# 第二章

## 关系数据库的结构

关系数据库由表的集合构成，每个表有唯一的名字。一般来说，表中一行代表了一组值之间的一种联系

在关系模型的术语中，**关系**用来指代表，**元组**用来指代行，**属性**指代表中的列

由于关系是元组集合，所以元组在关系中出现的顺序是无关紧要的。对于关系的每个属性，都存在一个允许取值的集合，称为该属性的**域**。要求对所有关系r而言，r的所有属性的域都是原子的，如果域中元素被看作是不可再分的单元，则域是**原子的**

## 数据库模式

**数据库模式**是数据库的逻辑设计，**数据库实例**是给定时刻数据库中数据的一个快照。关系的概念对应于变量的概念，**关系模式**的概念对应于类型定义的概念

## 码

**超码**是一个或多个属性的集合，这些属性的组合可以使我们在一个关系中唯一地标识一个元组，一个超码的任意真子集都不能成为超码，这样的最小超码称为**候选码**。

**主码**代表被数据库设计者选中的、主要用来在一个关系中区分不同元组的候选码，习惯上把一个关系模式的主码属性列在其他属性前面

一个关系模式(r1)可能在它的属性中包括另一个关系模式(r2)的主码，这个属性在r1上称作参照r2的**外码**，关系r1也称为外码依赖的**参照关系**，r2被叫做外码的**被参照关系**。**参照完整性约束**要求在参照关系中任意元组在特定属性上的取值必然等于被参照关系中某个元组在特定属性上的取值

## 模式图

每一个关系用一个矩形来表示，关系的名字显示在矩形的上方，矩形内列出各属性。主码属性用下划线标注，外码依赖用从参照关系的外码属性到被参照关系的主码属性之间的箭头来表示

## 关系查询语言

查询语言是用户用来从数据库中请求获取信息的语言，查询语言可以分为过程化的和非过程化的。**过程化语言**中，用户指导系统对数据库执行一系列操作以计算出所需结果。**非过程化语言**中，用户只需描述所需信息，而不用给出获取该信息的具体过程

## 关系运算

所有的过程化关系查询语言都提供了一组运算，这些运算要么施加于单个关系上，要么施加于一对关系上。这些运算具有一种性质：运算结果总是单个的关系。这个性质使得人们可以模块化的方式来组合几种这样的运算